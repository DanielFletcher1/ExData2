hist(as.numeric(new$date))
hist(new$steps, new$date)
head(new$steps > 0)
new$steps[1:10]
hed(new$steps[new$steps > 0]
)
head(new$steps[new$steps > 0])
head(new$steps[new$steps != "NA"])
head(new$steps[new$steps != NA])
is.na(new$steps[1])
!is.na(new$steps[1])
new$steps == "NA"
new$steps[1] == "NA"
new$steps[1] == NA
new$steps[1]
is.na(new$steps[1])
hist(!is.na(new$steps))
hist(as.numeric(!is.na(new$steps)))
plot(new$steps)
max(new$steps)
max(complete.cases(new$steps))
?hist
as.factor(new$date)
hist(new$steps, as.factor(new$date))
?cut
head(cut(new, new$date))
head(cut(test$date))
summary(test)
table(test)
table(new$date)
aggregate(steps ~ date, new, max)
?aggregate
aggregate(steps ~ date, new, sum)
hist(aggregate(steps ~ date, new, sum))
str(aggregate(steps ~ date, new, sum))
subdata <- aggregate(steps ~ date, new, sum)
head(subdata)
str()
str(subdata)
hist(subdata$steps)
?ggplot
?hist
hist(subdata$date)
hist(subdata$steps)
hist(subdata$steps, subdata$date)
hist(subdata$steps, as.factor(subdata$date))
cut(subdata$date)
str(subdata$date)
library(ggplot2)
p <- ggplot(subdata, aes(date, steps))
p
?ggplot
qplot(steps, data = subdata, geom = "histogram")
p <- qplot(steps, data = subdata, geom = "histogram")
p + geom_histogram(binwidth = 10)
p + geom_histogram(binwidth = 100)
p <- qplot(steps, data = subdata)
p
hist(subdata)
hist(subdata$steps)
?seq
seq_along(subdata$date)
hist(subdata$steps, seq_along(subdata$date)
)
hist(subdata$steps, breaks = 100)
hist(subdata$steps, breaks = 50)
hist(subdata$steps, breaks = 40)
hist(subdata$steps, breaks = 20)
hist(subdata$steps, breaks = 10)
hist(subdata$steps, breaks = 20)
max(subdata$steps)
median(subdata$steps)
count(which(subdata$steps == 10765))
sum(which(subdata$steps == 10765))
?frequency
which(subdata$steps == 10765)
summary(subdata$steps)
which(subdata$steps > 10000 & subdtat$steps < 10020)
which(subdata$steps > 10000 & subdtata$steps < 10020)
which(subdata$steps > 10000 & subdata$steps < 10020)
which(subdata$steps > 10000)
subdata$steps[which(subdata$steps > 10000)]
which(subdata$steps > 10000 & subdata$steps < 11000)
length(which(subdata$steps > 10000 & subdata$steps < 11000))
dir()
a < read.csv("activity.csv")
a <- read.csv("activity.csv")
getwd()
?aggregate
test <- read.csv("activity.csv")
head(test)
test <- read.csv("activity.csv", header = TRUE, sep = ",")
head(test)
?aggregate
aggregate(test$steps ~ test$date, test, sum)
?replicate
?rep
rep(3, 10)
rep(1:2, 5)
rep(1, 5)
rep(1, 1:5)
rep(1:5, times = 3, each = 2)
rep(1:5[3], times = 3, each = 2)
df <- data.frame(a = 1:10, b = 10:1, c = rep(1, 10))
df
?seq
df <- cbind(df, d = LETTERS[1:10])
df
is.na(NA)
c(1:5, NA, 7:9, NA)
cbind(df, e = c(1:5, NA, 7:9, NA))
df <- cbind(df, e = c(1:5, NA, 7:9, NA))
df
aggregate(a ~ e, df, sum)
test[1:20,]
test[500:510,]
test[540:560,]
aggregate(a ~ d, df, sum)
df
df <- rbind(df, c(10, 3, 4, K, 11))
df <- rbind(df, c(10, 3, 4, "K", 11))
df
df[11,"d"] <- LETTERS[11]
LETTERS[11]
str(LETTERS[11])
df[11,"c"]
str(df[11,"c"])
str(df)
str(test)
as.numeric(df$a)
df$a <- as.numeric(df$a)
str(df)
df$b <- as.numeric(df$b)
str(df)
df$c <- as.numeric(df$c)
df$e <- as.numeric(df$e)
df
df[11,"d"] <- as.factor(LETTERS[11])
unlist(LETTERS[11])
df[11, "d"] <- unlist(LETTERS[11])
as.factor(LETTERS[11])
rep(c(1,4,2,6), each = 3)
df[11, "d"] <- 5
levels(df$d)
levels(df$d) <- c(levels(df$d), "K")
df$d
df[11, df$d] <- "K"
df[11, "d"] <- "K"
df
aggregate(a ~ d, df, sum)
df[c(8:9, 11), "d"] <- "J"
df
aggregate(a ~ d, df, sum)
sum(df[df$d == J, df$a])
sum(df["d" == J, "a"])
sum(df["d" == "J", "a"])
df["d", "a"]
df["d" == "J", "a"]
df[, "a"]
df["d" == "J",]
df
which(df$d = "J")
which(df$d == "J")
df["d" == "J",]
df["d" == "J", "d"]
df[df[,"d"] == "J", "d"]
df[df$d == "J", "d"]
df[df$d == "J", df$d]
df[df$d == "J", "d"]
df[df$d == "J", "4"]
df[df$d == "J", 4]
df[df$d == "J", 4] drop = FALSE
df[df$d == "J", 4, drop = FALSE]
df
sum(df[df$d = J, "a"])
sum(df[df$d == J, "a"])
sum(df[df$d == "J", "a"])
sum(df[df$d == "J", "e"])
aggregate(e ~ d, df, sum)
sum(df[df$d == "J", "e"], na.rm = T)
head(test)
aggregate(steps ~ date, test, sum)
as.Date(test[1,2])
str(as.Date(test[1,2]))
Sys.Date - as.Date(test[1,2])
as.Date(test[1,2], format = "%Y-%m-%d")
str(as.Date(test[1,2], format = "%Y-%m-%d"))
test[1,2]
?as.Date
Sys.Date - as.Date(test[1,2], format = "%Y-%m-%d")
?strptime
a <- test[1,2]
a
as.Date(a, "%Y-%m-%d")
str(as.Date(a, "%Y-%m-%d"))
unlist(as.Date(a, "%Y-%m-%d"))
str(unlist(as.Date(a, "%Y-%m-%d")))
str(list(as.Date(a, "%Y-%m-%d")))
?as.Date
as.Date(a)
str(a)
str(as.Date(a))
a <- as.Date(a)
Sys.Time - a
Sys.Date - a
class(a)
Sys.Date() - a
str(a)
test[1:3,2]
as.Date(test[1:3,2])
class(as.Date(test[1:3,2]))
Sys.Date() - as.Date(test[1:3,2])
unlist(Sys.Date() - as.Date(test[1:3,2]))
list(Sys.Date() - as.Date(test[1:3,2]))
head(test)
str(test)
read.csv
new <- read.csv("activity.csv", na.strings = "NA")
head(new)
str(new)
new$date <- as.Date(new$date)
str(new)
aggregate(steps ~ date, new, sum)
lapply
tapply
tapply(new$date, new$steps, sum)
tapply(new$steps, new$date, sum)
str(tapply(new$steps, new$date, sum))
b <- tapply(new$steps, new$date, sum)
b[1]
b[[1]]
b[1][1]
str(aggregate(steps ~ date, new, sum))
df
aggregate(a ~ d, df, sum)
tapply(df$a, df$d, sum)
aggregate(a ~ d, df, sum, na.rm = F)
str(tapply(df$a, df$d, sum))
str(b)
c <- tapply(df$a, df$d, sum)
c[1]
c[1][1]
c[1][[1]]
aggregate(steps, date, new, sum)
head(new)
aggregate(steps ~ date, new, sum)
getwd()
dir()
dat <- read.table(pipe('grep "^[1-2]/2/2007" "household_power_consumption.txt"'),header=F, sep=';')
info("explor1.zip")
file.info("explor1.zip")
dat <- read.table(pipe('grep "^[1-2]/2/2007" "household_power_consumption.txt"'))
data <- read.table(pipe("findstr /B /R ^[1-2]/2/2007 household_power_consumption.txt")
data <- read.table(pipe("findstr /B /R ^[1-2]/2/2007 household_power_consumption.txt"))
rm(data)
data <- read.table(pipe('grep ^[1-2]/2/2007 household_power_consumption.txt'))
data <- read.table(pipe('grep "^[1-2]/2/2007" "household_power_consumption.txt"'))
data <- read.table(pipe('grep "^[1-2]/2/2007" "household_power_consumption.txt"'))
System.Info()
Sys.info()
data <- read.table(pipe('grep "^[1-2]/2/2007" "household_power_consumption.txt"'))
data <- read.table(pipe('grep ^[1-2]/2/2007 "household_power_consumption.txt"'))
data <- read.table(pipe('grep ^[1-2]/2/2007 household_power_consumption.txt'))
data <- read.table(pipe('grep "^[1-2]/2/2007" "./explore_project1/household_power_consumption.txt"'),header=F, sep=';')
data <- read.table(pipe('grep "^[1-2]/2/2007" "./household_power_consumption.txt"'),header=F, sep=';')
data <- read.table(pipe('grep "^[1-2]/2/2007" "household_power_consumption.txt"'),header=F, sep=';')
data <- read.table(pipe('grep "^[1-2]/2/2007" "./explor1.zip/household_power_consumption.txt"'),header=F, sep=';')
data <- read.table(pipe('grep "^[1-2]/2/2007" "./Data Science/household_power_consumption.txt"'),header=F, sep=';')
data <- read.table(pipe('grep "^[1-2]/2/2007" "/Data Science/household_power_consumption.txt"'),header=F, sep=';')
getwd()
setwd("C:/Users/Daniel/Desktop/Coursera/Data Science/ExData2")
download.file("https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",
"FNEI_data.zip")
unzip("FNEI_Data.zip")
dir()
readLines("summarySCC_PM25.rds", 5)
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
str(NEI)
str(fips)
str(NEI$fips)
summary(NEI)
file.info("Source_Classification_Code.rds")
str(NEI$scc)
str(NEI$SCC)
sum(is.na(NEI))
any(is.na(NEI))
head(NEI)
NEI[1:20]
NEI[1:20,]
NEI[1:20,1]
NEI[1:20,1 drop = F]
NEI[1:20,1] drop = F
NEI[1:20, 1, drop = F]
?[]
?[
?]
head(SCC)
colnames(SCC)
head(NEI)
tapply(NEI$Emissions, "year", sum)
tapply(NEI$Emissions, NEI$year", sum)
tapply(NEI$Emissions, NEI$year, sum)
?aggregate
aggregate(Emissions ~ year, NEI, sum)
class(aggregate(Emissions ~ year, NEI, sum))
a <- tapply(NEI$Emissions, NEI$year, sum)
b <- aggregate(Emissions ~ year, NEI, sum)
?colsums
?colSums
colSums(NEI)
colSums(NEI$Emissions)
testcolSums <- 1:4
colSums(testcolSums)
testcolSums <- rbind(testcolSums, 1:4)
colSums(testcolSums)
testcolSums
rm(testcolSums)
plot(a)
plot(b)
b
plot(b, type = "l")
plot(b, type = "lwd")
?plot
plot(b, type = "b")
plot(b, type = "h")
plot(b, type = "s")
plot(b, type = "S")
plot(b, type = "b")
b[4,2]
(b[1,2] - b[4,2])/b[1,2]
?main
?title
plot(b, type = "b", Main = "Over 52% reduction in Emissions since 1999", ylab = "Sum of yearly Emissions")
plot(b, type = "b", title = "Over 52% reduction in Emissions since 1999", ylab = "Sum of yearly Emissions")
plot(b, type = "b", title = "Over 52% reduction in Emissions since 1999", ylab = "Sum of yearly Emissions")
plot(b, type = "b", ylab = "Sum of Emissions in tons")
warnings()
graphics.off()
plot(b, type = "b", ylab = "Sum of Emissions in tons")
?title
title("Over 52% reduction in Emissions since 1999")
plot(b, type = "b", ylab = "Sum of Emissions in tons")
title("Over 52% reduction in Emissions from 1999 - 2008")
colnames(NEI)
str(NEI)
b$Emissions["1999"]
b$Emissions
b["Emissions", "1999"]
b["1999", "Emissions"]
b
b[1999, "Emissions"]
b[,"Emissions"]
b[1999,]
b["1999",]
str(b)
b$year[1]
b$year[1999]
b$Emissions[1999]
b$Emissions[b$year[1999]]
b$year[1]
b$Emissions[1]
(b$Emissions[4] - b$Emissions[1])
(b$Emissions[4] - b$Emissions[1])/b$Emissions[1]
b["year" == 1999,]
b[b$year == 1999,]
b[b$year == 1999, "Emissions"]
(b[b$year == 2008, "Emissions"] - [b$year == 1999, "Emissions"])/[b$year == 1999, "Emissions"]
(b[b$year == 2008, "Emissions"] - [b$year == 1999, "Emissions"])/b[b$year == 1999, "Emissions"]
(b[b$year == 2008, "Emissions"] - b[b$year == 1999, "Emissions"])/b[b$year == 1999, "Emissions"]
b[b$year == 2008, "Emissions"]
firstYearEmissions <- b[b$year == 2008, "Emissions"]
1999Emissions <- b[b$year == 1999, "Emissions"]
firstYearEmissions <- b[b$year == 1999, "Emissions"]
lastYearEmissions <- b[b$year == 2008, "Emissions"]
(lastYearEmissions - firstYearEmissions)/firstYearEmissions
emissionsSum <- aggregate(Emissions ~ year, NEI, sum)
## plot the decrease in emissions
png(file = "plot1.png")
plot(emissionsSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 52% reduction in Emissions from 1999 - 2008")
dev.off()
## for reference, here's the 52+ percent change for 1999 v. 2008:
firstYearEmissions <- emissionsSum[emissionsSum$year == 1999, "Emissions"]
firstYearEmissions <- emissionsSum[emissionsSum$year == 2008, "Emissions"]
(lastYearEmissions - firstYearEmissions)/firstYearEmissions ## -0.5275847
(lastYearEmissions - firstYearEmissions)/firstYearEmissions
lastYearEmissions <- emissionsSum[emissionsSum$year == 2008, "Emissions"]
(lastYearEmissions - firstYearEmissions)/firstYearEmissions ## -0.5275847
firstYearEmissions <- emissionsSum[emissionsSum$year == 1999, "Emissions"]
lastYearEmissions <- emissionsSum[emissionsSum$year == 2008, "Emissions"]
(lastYearEmissions - firstYearEmissions)/firstYearEmissions ## -0.5275847
rm(a,b,emissionsSum,firstYearEmissions,lastYearEmissions)
NEI[NEI$fips == "24510", 1:10]
head(NEI)
head(NEI[NEI$fips == "24510", "Emissions"])
head(NEI[NEI$fips == "24510", "Emissions", drop = F])
subsetBaltimore <- NEI[NEI$fips == "24510",]
length(NEI[NEI$fips == "24510"])
length(NEI[NEI$fips == "24510",])
length(NEI[NEI$fips == "09001",])
subsetBaltimore
nobs(NEI[NEI$fips == "09001",])
nrows(NEI[NEI$fips == "09001",])
nRows(NEI[NEI$fips == "09001",])
Nrows(NEI[NEI$fips == "09001",])
nrow(NEI[NEI$fips == "09001",])
head(subsetBaltimore)
baltimoreSum <- aggregate(Emissions ~ year, subsetBaltimore, sum)
baltimoreSum
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
firstYearEmissions <- baltimoreSum[baltimoreSum$year == 1999, "Emissions"]
lastYearEmissions <- baltimoreSum[baltimoreSum$year == 2008, "Emissions"]
(lastYearEmissions - firstYearEmissions)/firstYearEmissions ## -0.5275847
firstYearEmissions <- baltimoreSum[baltimoreSum$year == 1999, "Emissions"]
lastYearEmissions <- baltimoreSum[baltimoreSum$year == 2008, "Emissions"]
(lastYearEmissions - firstYearEmissions)/firstYearEmissions ## -0.431222
## subset the data, so only Baltimore City remains (fips == "24510")
subsetBaltimore <- NEI[NEI$fips == "24510",]
## sum the emissions per year for Baltimore City
baltimoreSum <- aggregate(Emissions ~ year, subsetBaltimore, sum)
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions from 1999 - 2008")
abline(lm(Emissions ~ year), col="red")
abline(lm(baltimoreSum$Emissions ~ baltimoreSum$year), col="red")
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions from 1999 - 2008 with best-fit line")
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions from 1999 - 2008
\nwith best-fit line")
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions from 1999 - 2008
\n(with red best-fit line)")
getwd()
setwd("C:/Users/Daniel/Desktop/Coursera/Data Science")
png(file = "titleTest.png")
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions from 1999 - 2008
\n(with red best-fit line)")
abline(lm(baltimoreSum$Emissions ~ baltimoreSum$year), col="red")
dev.off()
png(file = "titleTest.png")
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions from
\n1999 - 2008 (with red best-fit line)")
abline(lm(baltimoreSum$Emissions ~ baltimoreSum$year), col="red")
dev.off()
?title
png(file = "titleTest.png")
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions from 1999 - 2008",
sub = "(with red best-fit line)")
abline(lm(baltimoreSum$Emissions ~ baltimoreSum$year), col="red")
dev.off()
png(file = "titleTest.png")
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions
\nfrom 1999 - 2008 (with red best-fit line)", cex.main = 2)
abline(lm(baltimoreSum$Emissions ~ baltimoreSum$year), col="red")
dev.off()
png(file = "titleTest.png")
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions
\nfrom 1999 - 2008 (with red best-fit line)", cex.main = .5)
abline(lm(baltimoreSum$Emissions ~ baltimoreSum$year), col="red")
dev.off()
png(file = "titleTest.png")
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions
\nfrom 1999 - 2008 (with red best-fit line)", cex.main = 1)
abline(lm(baltimoreSum$Emissions ~ baltimoreSum$year), col="red")
dev.off()
png(file = "titleTest.png")
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions from 1999 - 2008
\n(with red best-fit line)", cex.main = 1)
abline(lm(baltimoreSum$Emissions ~ baltimoreSum$year), col="red")
dev.off()
png(file = "titleTest.png")
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions from 1999 - 2008
\n(with red best-fit line, showing significant downslope, despite 2005)", cex.main = 1)
abline(lm(baltimoreSum$Emissions ~ baltimoreSum$year), col="red")
dev.off()
png(file = "titleTest.png")
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions from 1999 - 2008
\n(red best-fit line shows significant overall decrease, despite 2005)", cex.main = 1)
abline(lm(baltimoreSum$Emissions ~ baltimoreSum$year), col="red")
dev.off()
getwd()
setwd("C:/Users/Daniel/Desktop/Coursera/Data Science/ExData2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
## sum the emissions per year
emissionsSum <- aggregate(Emissions ~ year, NEI, sum)
## plot the decrease in emissions
png(file = "plot1.png")
plot(emissionsSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 52% reduction in U.S. Emissions from 1999 - 2008")
dev.off()
## subset the data, so only Baltimore City remains (fips == "24510")
subsetBaltimore <- NEI[NEI$fips == "24510",]
## sum the emissions per year for Baltimore City
baltimoreSum <- aggregate(Emissions ~ year, subsetBaltimore, sum)
## plot the decrease in emissions
png(file = "plot2.png")
plot(baltimoreSum, type = "b", ylab = "Sum of Emissions in tons")
title("Over 43% reduction in Baltimore City Emissions from 1999 - 2008
\n(red best-fit line shows significant overall decrease, despite 2005)", cex.main = 1)
abline(lm(baltimoreSum$Emissions ~ baltimoreSum$year), col="red")
dev.off()
